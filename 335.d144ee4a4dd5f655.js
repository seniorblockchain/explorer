"use strict";(self.webpackChunkblockcore=self.webpackChunkblockcore||[]).push([[335],{79476:(E,m,n)=>{n.d(m,{W:()=>x});var f=n(69808),r=n(5e3);let x=(()=>{class a{}return a.\u0275fac=function(v){return new(v||a)},a.\u0275mod=r.oAB({type:a}),a.\u0275inj=r.cJS({imports:[f.ez]}),a})()},95335:(E,m,n)=>{n.r(m),n.d(m,{OrphansModule:()=>q});var f=n(99826),r=n(47423),x=n(69832),a=n(4834),u=n(25245),v=n(92181),h=n(85899),_=n(90508),O=n(2638),I=n(84847),U=n(24999),T=n(53251),M=n(12666),s=n(42115),i=n(44466),C=n(74107),c=n(77531),k=n(9828),B=n(87238),J=n(57261),L=n(69837),S=n(17237),W=n(35486),y=n(15861),H=n(5830),t=n(5e3),K=n(29205),Z=n(69808),R=n(32419),N=n(49364),Q=n(11656);function w(l,d){if(1&l&&(t.TgZ(0,"div",17),t._UZ(1,"mat-icon",12),t.TgZ(2,"div",18),t._uU(3),t.qZA()()),2&l){const o=t.oxw();t.xp6(1),t.Q6J("svgIcon","heroicons_solid:badge-check"),t.xp6(2),t.Oqu(null==o.setup.Chain?null:o.setup.Chain.Description)}}function j(l,d){1&l&&(t.TgZ(0,"app-progress",24),t._uU(1,"Loading latest blocks..."),t.qZA())}function F(l,d){if(1&l){const o=t.EpF();t.TgZ(0,"blockcore-block",34),t._UZ(1,"mat-icon",35),t.TgZ(2,"div",36)(3,"div",37)(4,"a",38),t.NdJ("click",function(){const p=t.CHM(o).$implicit,b=t.oxw(3);return t.KtG(b.showBlockDetails(p.blockHash))}),t._uU(5),t.qZA(),t._uU(6," | "),t.TgZ(7,"a",38),t.NdJ("click",function(){const p=t.CHM(o).$implicit,b=t.oxw(3);return t.KtG(b.showBlockDetails(p.blockHash))}),t._uU(8),t.ALo(9,"slice"),t.qZA()(),t.TgZ(10,"div",39),t._uU(11),t.ALo(12,"date"),t.qZA()(),t.TgZ(13,"div",29)(14,"div",40),t.ynx(15),t.TgZ(16,"div",41)(17,"div",42),t._uU(18,"Transaction Count:"),t.qZA(),t.TgZ(19,"div",43),t._uU(20),t.qZA()(),t.BQk(),t.qZA()(),t._UZ(21,"div",44),t.qZA()}if(2&l){const o=d.$implicit;t.xp6(1),t.Q6J("svgIcon","heroicons_outline:cube"),t.xp6(4),t.Oqu(o.blockIndex),t.xp6(3),t.Oqu(t.Dn7(9,6,o.blockHash,0,20)),t.xp6(3),t.Oqu(t.xi3(12,10,o.created,"dd/MM/yyyy hh:mm")),t.xp6(8),t.MGl("matTooltip","Transaction Count: ",o.block.transactionCount,""),t.xp6(1),t.hij(" ",o.block.transactionCount,"")}}function Y(l,d){1&l&&t._UZ(0,"app-progress")}function z(l,d){if(1&l){const o=t.EpF();t.TgZ(0,"div",25)(1,"div",26)(2,"div",17)(3,"blockcore-block",27),t._UZ(4,"mat-icon",28),t.TgZ(5,"div",29)(6,"div",30)(7,"span"),t._uU(8,"Orphan blocks: "),t.qZA(),t.TgZ(9,"span",31),t._uU(10),t.qZA()()()()(),t.TgZ(11,"div",32),t.NdJ("onScroll",function(g){t.CHM(o);const p=t.oxw(2);return t.KtG(p.onScroll(g))}),t.YNc(12,F,22,13,"blockcore-block",33),t.YNc(13,Y,1,0,"app-progress",23),t.qZA()()()}if(2&l){const o=t.oxw(2);t.xp6(4),t.Q6J("svgIcon","heroicons_outline:cube"),t.xp6(6),t.hij(" ",o.total,""),t.xp6(1),t.Q6J("bottomOffset",400)("topOffset",400),t.xp6(1),t.Q6J("ngForOf",o.blocks),t.xp6(1),t.Q6J("ngIf",o.loading)}}function G(l,d){if(1&l&&(t.TgZ(0,"div")(1,"blockcore-block",45),t._UZ(2,"mat-icon",28),t.TgZ(3,"div",29)(4,"div",30)(5,"span"),t._uU(6),t.qZA()()()(),t.TgZ(7,"div",46)(8,"pre",47),t._uU(9),t.ALo(10,"json"),t.qZA()()()),2&l){const o=t.oxw(2);t.xp6(2),t.Q6J("svgIcon","heroicons_outline:clipboard-list"),t.xp6(4),t.hij("Block Hash: ",o.displayBlock.blockHash," "),t.xp6(3),t.Oqu(t.lcZ(10,3,o.displayBlock))}}function X(l,d){if(1&l&&(t.TgZ(0,"div",19)(1,"div",20),t._UZ(2,"app-search"),t.YNc(3,j,2,0,"app-progress",21),t.YNc(4,z,14,6,"div",22),t.YNc(5,G,11,5,"div",23),t.qZA()()),2&l){const o=t.oxw();t.xp6(3),t.Q6J("ngIf",!o.blocks),t.xp6(1),t.Q6J("ngIf",o.blocks),t.xp6(1),t.Q6J("ngIf",o.displayBlock)}}const $=[{path:"",component:(()=>{class l{constructor(o,e){this.api=o,this.setup=e,this.hostClass=!0,this.blocks=null,this.count=0,this.maxCount=2,this.limit=20,this.loading=!1}scrollHandler(o){}ngOnInit(){var o=this;return(0,y.Z)(function*(){o.subscription=o.setup.currentChain$.subscribe(function(){var e=(0,y.Z)(function*(g){yield o.updateBlocks("/api/query/block/orphan?offset=&limit="+o.limit)});return function(g){return e.apply(this,arguments)}}())})()}ngOnDestroy(){clearTimeout(this.timerInfo),clearTimeout(this.timerBlocks),this.subscription.unsubscribe()}updateBlocks(o){var e=this;return(0,y.Z)(function*(){if(!o)return;const g=e.api.baseUrl.replace("/api",""),p=yield e.api.request(g+o);e.total=p.headers.get("Pagination-Total");const b=p.headers.get("Link"),tt=e.api.parseLinkHeader(b);e.link=tt.previous;const P=yield p.json();P.sort((A,D)=>D.blockIndex===A.blockIndex?0:D.blockIndex<A.blockIndex?-1:D.blockIndex>A.blockIndex?1:void 0),e.blocks||(e.blocks=[]),e.blocks=[...e.blocks,...P],e.count++})()}showBlockDetails(o){var e=this;return(0,y.Z)(function*(){const g=e.api.baseUrl.replace("/api",""),p=yield e.api.request(g+"/api/query/block/orphan/"+o);e.displayBlock=yield p.json()})()}onScroll(o){var e=this;return(0,y.Z)(function*(){o.isReachingBottom&&(e.loading=!0,setTimeout((0,y.Z)(function*(){yield e.updateBlocks(e.link),e.loading=!1})))})()}}return l.\u0275fac=function(o){return new(o||l)(t.Y36(H.s),t.Y36(K.U))},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-orphans-component"]],hostVars:2,hostBindings:function(o,e){1&o&&t.NdJ("scroll",function(p){return e.scrollHandler(p)}),2&o&&t.ekj("content-centered-top",e.hostClass)},decls:21,vars:7,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex","flex-col","w-full","max-w-screen-xl","mx-auto","px-6","sm:px-8"],[1,"flex","flex-col","sm:flex-row","flex-auto","sm:items-center","min-w-0","my-8","sm:my-12"],[1,"flex","flex-auto","items-center","min-w-0"],[1,"flex-0","w-16","h-16","rounded-md","overflow-hidden"],[1,"w-full","h-full",3,"src"],[1,"flex","flex-col","min-w-0","ml-4"],[1,"text-2xl","md:text-5xl","font-semibold","tracking-tight","leading-7","md:leading-snug","truncate"],["class","flex items-center",4,"ngIf"],[1,"flex","items-center","mt-6","sm:mt-0","sm:ml-2","space-x-3","hidden","md:block"],["target","_blank",3,"href"],["mat-flat-button","",1,"blockcore-mat-button-rounded",3,"color"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2"],[1,"flex-auto","border-t","-mt-px","pt-4","sm:pt-6"],[1,"w-full","max-w-screen-xl","mx-auto"],["class","flex flex-col flex-auto w-full",4,"ngIf"],[1,"flex","items-center"],[1,"ml-1.5","leading-6","truncate","text-secondary"],[1,"flex","flex-col","flex-auto","w-full"],[1,"w-full","max-w-screen-xl","mx-auto","p-6","md:p-8"],["class","centered",4,"ngIf"],["class","grid grid-cols-1 xl:grid-cols-1 gap-8 w-full",4,"ngIf"],[4,"ngIf"],[1,"centered"],[1,"grid","grid-cols-1","xl:grid-cols-1","gap-8","w-full"],[1,"flex","flex-col","flex-auto"],[1,"flex","items-center","w-full","p-6","filter-info"],[1,"icon-size-16","mr-6","text-blue-500",3,"svgIcon"],[1,"flex","flex-col"],[1,"text-2xl","font-semibold","leading-tight","break-all"],[1,"text-primary"],["appDetectScroll","",1,"scrollable",3,"bottomOffset","topOffset","onScroll"],["class","flex items-center w-full p-6 filter-info justify-between",4,"ngFor","ngForOf"],[1,"flex","items-center","w-full","p-6","filter-info","justify-between"],[1,"icon-size-12","mr-6",3,"svgIcon"],[1,"flex","flex-col","w-full"],[1,"text-2xl","font-semibold","leading-tight","text-primary","break-all"],[2,"cursor","pointer",3,"click"],[1,"text-md","text-secondary"],[1,"text-1xl","font-semibold","leading-tight"],[1,"font-semibold","tracking-tight","leading-7","md:leading-snug","truncate","inline-flex","mat-flat-button"],[1,"hidden","md:block","mr-3"],[1,"inline-flex","text-primary",3,"matTooltip"],[1,"flex"],[1,"flex","items-center","w-full","p-6","filter-info","mt-8"],[1,"prose","max-w-full"],[2,"text-align","left","overflow","auto"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"div")(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),t._UZ(6,"img",5),t.qZA(),t.TgZ(7,"div",6),t.ynx(8),t.TgZ(9,"div",7),t._uU(10),t.qZA(),t.BQk(),t.YNc(11,w,4,2,"div",8),t.qZA()(),t.TgZ(12,"div",9)(13,"a",10)(14,"button",11),t._UZ(15,"mat-icon",12),t.TgZ(16,"span",13),t._uU(17,"Website"),t.qZA()()()()()()(),t.TgZ(18,"div",14)(19,"div",15),t.YNc(20,X,6,3,"div",16),t.qZA()()()),2&o&&(t.xp6(6),t.s9C("src",null==e.setup.Chain?null:e.setup.Chain.Icon,t.LSH),t.xp6(4),t.hij(" ",null==e.setup.Chain?null:e.setup.Chain.Symbol," "),t.xp6(1),t.Q6J("ngIf",null==e.setup.Chain?null:e.setup.Chain.Description),t.xp6(2),t.s9C("href",null==e.setup.Chain?null:e.setup.Chain.Url,t.LSH),t.xp6(1),t.Q6J("color","primary"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:chevron-double-right"),t.xp6(5),t.Q6J("ngIf",e.setup.chains))},dependencies:[r.lW,u.Hw,Z.sg,Z.O5,R.f,B.gM,N.g,Q.t,Z.Ts,Z.OU,Z.uU],encapsulation:2}),l})()}];var V=n(79476);let q=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=t.oAB({type:l}),l.\u0275inj=t.cJS({imports:[f.Bz.forChild($),r.ot,x.vV,a.t,u.Ps,v.Tx,h.Cv,_.si,O.SJ,I.JX,U.p0,T.Nh,s.X,M.y4,i.m,C.LD,c.c,k.d,B.AV,J.ZX,L.t,S.q,W.T,V.W]}),l})()},49364:(E,m,n)=>{n.d(m,{g:()=>U});var f=n(15861),r=n(5e3),x=n(5830),a=n(29205),u=n(99826),v=n(57261),h=n(25245),_=n(93075),O=n(67322),I=n(77531);let U=(()=>{class T{constructor(s,i,C,c){this.api=s,this.setup=i,this.router=C,this._snackBar=c,this.scheme=JSON.parse(localStorage.getItem("config")).scheme}ngOnDestroy(){}ngOnInit(){return(0,f.Z)(function*(){})()}inputType(s){return s.startsWith(this.setup.Network.NetworkWitnessPrefix)?"address":s.length<20?"index":s.length>30&&s.length<54?"address":"hash"}search(){var s=this;return(0,f.Z)(function*(){const i=s.searchTerm;switch(s.inputType(i)){case"index":{const c=parseInt(i,10);NaN!==c&&c>0?s.router.navigate([s.setup.current,"explorer","block",c]):s._snackBar.open("Explorer cannot detect your data type","retry",{duration:3e3,panelClass:[s.scheme]});break}case"address":s.router.navigate([s.setup.current,"explorer","address",i]);break;case"hash":{let c=null;try{c=yield s.api.getBlockByHash(i)}catch(k){}if(c)s.router.navigate([s.setup.current,"explorer","block",c.blockHash]);else{const k=yield s.api.getTransaction(i);s.router.navigate([s.setup.current,"explorer","transaction",k.transactionId])}break}default:s._snackBar.open("Explorer cannot detect your data type","retry",{duration:3e3,panelClass:[s.scheme]})}})()}}return T.\u0275fac=function(s){return new(s||T)(r.Y36(x.s),r.Y36(a.U),r.Y36(u.F0),r.Y36(v.ux))},T.\u0275cmp=r.Xpm({type:T,selectors:[["app-search"]],decls:8,vars:3,consts:[[1,"grid","grid-cols-1","sm:grid-cols-1","md:grid-cols-1","gap-6","w-full","min-w-0","mb-6"],[1,"flex","flex-col","flex-auto","p-6","bg-card","shadow","rounded-2xl","overflow-hidden"],[1,"w-full","max-w-screen-xl","mx-auto"],[1,"flex","flex-col","sm:flex-row","items-center","justify-between","w-full","max-w-full","sm:max-w-none"],[1,"blockcore-mat-no-subscript","w-full","sm:w-full","mt-6","sm:mt-6","mb-6","sm:mb-6","sm:ml-4",3,"floatLabel"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["type","search","placeholder","Search for address, transaction or block.","autocomplete","off","matInput","",3,"ngModel","keyup.enter","ngModelChange"],["query",""]],template:function(s,i){1&s&&(r.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-form-field",4),r._UZ(5,"mat-icon",5),r.TgZ(6,"input",6,7),r.NdJ("keyup.enter",function(){return i.search()})("ngModelChange",function(c){return i.searchTerm=c}),r.qZA()()()()()()),2&s&&(r.xp6(4),r.Q6J("floatLabel","always"),r.xp6(1),r.Q6J("svgIcon","heroicons_solid:search"),r.xp6(1),r.Q6J("ngModel",i.searchTerm))},dependencies:[h.Hw,_.Fj,_.JJ,_.On,O.KE,O.qo,I.Nt],encapsulation:2}),T})()},69837:(E,m,n)=>{n.d(m,{t:()=>v});var f=n(25245),r=n(44466),x=n(77531),a=n(57261),u=n(5e3);let v=(()=>{class h{}return h.\u0275fac=function(O){return new(O||h)},h.\u0275mod=u.oAB({type:h}),h.\u0275inj=u.cJS({imports:[f.Ps,r.m,x.c,a.ZX]}),h})()},9828:(E,m,n)=>{n.d(m,{d:()=>x});var f=n(69808),r=n(5e3);let x=(()=>{class a{}return a.\u0275fac=function(v){return new(v||a)},a.\u0275mod=r.oAB({type:a}),a.\u0275inj=r.cJS({imports:[f.ez]}),a})()}}]);