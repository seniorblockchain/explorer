"use strict";(self.webpackChunkblockcore=self.webpackChunkblockcore||[]).push([[533],{1743:(P,h,o)=>{o.d(h,{q:()=>O});var m=o(5830),e=o(5e3),_=o(25245),p=o(69808);function x(a,d){if(1&a&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&a){const i=e.oxw(2);e.xp6(1),e.Oqu(i.details)}}function T(a,d){if(1&a&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&a){const i=e.oxw(3);e.xp6(1),e.Oqu(i.details)}}function g(a,d){if(1&a&&(e.TgZ(0,"div",16),e._uU(1),e.qZA()),2&a){const i=e.oxw(3);e.xp6(1),e.Oqu(i.stack)}}function E(a,d){if(1&a&&(e.TgZ(0,"div",13),e.YNc(1,T,2,1,"div",9),e.YNc(2,g,2,1,"div",14),e._UZ(3,"br"),e.TgZ(4,"span",15),e._uU(5," Message: "),e.qZA(),e.TgZ(6,"div"),e._uU(7),e.qZA()()),2&a){const i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",i.details),e.xp6(1),e.Q6J("ngIf",i.stack),e.xp6(5),e.Oqu(i.message)}}function M(a,d){if(1&a){const i=e.EpF();e.TgZ(0,"div",1)(1,"div",2),e._UZ(2,"mat-icon",3),e.qZA(),e.TgZ(3,"div",4)(4,"div",5)(5,"div",6),e._uU(6," Something went wrong! "),e.qZA()()(),e.TgZ(7,"div",7)(8,"div",5)(9,"div",8),e.YNc(10,x,2,1,"div",9),e._UZ(11,"br")(12,"br"),e.TgZ(13,"span",10),e.NdJ("click",function(){e.CHM(i);const c=e.oxw();return e.KtG(c.detailsVisible=!c.detailsVisible)}),e._UZ(14,"mat-icon",11),e.qZA()(),e.YNc(15,E,8,3,"div",12),e.qZA()()()}if(2&a){const i=e.oxw();e.xp6(2),e.Q6J("svgIcon","heroicons_outline:exclamation-circle"),e.xp6(8),e.Q6J("ngIf",i.details),e.xp6(4),e.Q6J("svgIcon","heroicons_solid:information-circle"),e.xp6(1),e.Q6J("ngIf",i.detailsVisible)}}let O=(()=>{class a{constructor(){this.detailsVisible=!1}ngOnChanges(i){!this.error||(this.error instanceof m.o?404===this.error.code?(this.message="Not found (404)",this.details=this.error.url,this.stack=this.error.stack.toString()):(this.message=this.error.message+" ("+this.error.code+")",this.details=this.error.url,this.stack=this.error.stack.toString()):this.error instanceof Error?(this.message="Error occured: "+this.error.message,this.stack=this.error.stack.toString()):this.message=this.error)}}return a.\u0275fac=function(i){return new(i||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-error"]],inputs:{error:"error"},features:[e.TTD],decls:1,vars:1,consts:[["class","relative flex flex-col flex-auto p-6 pr-3 pb-3 bg-card rounded-2xl shadow overflow-hidden",4,"ngIf"],[1,"relative","flex","flex-col","flex-auto","p-6","pr-3","pb-3","bg-card","rounded-2xl","shadow","overflow-hidden"],[1,"absolute","bottom-0","right-0","w-24","h-24","-m-6"],[1,"icon-size-24","opacity-25","text-red-500","dark:text-red-400",3,"svgIcon"],[1,"flex","items-center"],[1,"flex","flex-col"],[1,"text-lg","font-medium","tracking-tight","leading-6","truncate","break-all","negative"],[1,"flex","items-center","mt-8"],[1,"font-medium","break-all"],[4,"ngIf"],["title","Show error details",1,"clickable",3,"click"],["matPrefix","",1,"icon-size-10","text-red-500",3,"svgIcon"],["class","error-details mt-8",4,"ngIf"],[1,"error-details","mt-8"],["class","error-details-stack",4,"ngIf"],[1,"text-red-500"],[1,"error-details-stack"]],template:function(i,r){1&i&&e.YNc(0,M,16,4,"div",0),2&i&&e.Q6J("ngIf",r.error)},dependencies:[_.Hw,p.O5],encapsulation:2}),a})()},25533:(P,h,o)=>{o.r(h),o.d(h,{MempoolModule:()=>tt});var m=o(99826),e=o(47423),_=o(69832),p=o(4834),x=o(25245),T=o(92181),g=o(85899),E=o(90508),M=o(2638),O=o(84847),a=o(24999),d=o(53251),i=o(12666),r=o(42115),c=o(44466),Z=o(74107),u=o(77531),U=o(9828),J=o(87238),k=o(57261),S=o(69837),L=o(17237),W=o(35486),I=o(15861),Q=o(5830),t=o(5e3),R=o(29205),B=o(69808),K=o(32419),N=o(49364),w=o(11656),Y=o(1743);function F(s,f){if(1&s&&(t.TgZ(0,"div",17),t._UZ(1,"mat-icon",12),t.TgZ(2,"div",18),t._uU(3),t.qZA()()),2&s){const n=t.oxw();t.xp6(1),t.Q6J("svgIcon","heroicons_solid:badge-check"),t.xp6(2),t.Oqu(null==n.setup.Chain?null:n.setup.Chain.Description)}}function H(s,f){if(1&s&&(t.TgZ(0,"blockcore-block",25),t._UZ(1,"mat-icon",26),t.TgZ(2,"div",27)(3,"div",28)(4,"span"),t._uU(5,"Transactions Count: "),t.qZA(),t.TgZ(6,"span",29),t._uU(7),t.qZA()()()()),2&s){const n=t.oxw(2);t.xp6(1),t.Q6J("svgIcon","heroicons_outline:document-text"),t.xp6(6),t.Oqu(n.total)}}function j(s,f){1&s&&t._UZ(0,"app-progress")}const V=function(s){return["../../explorer/transaction",s]};function z(s,f){if(1&s&&(t.TgZ(0,"blockcore-block",32),t._UZ(1,"mat-icon",33),t.TgZ(2,"div",34)(3,"div",35)(4,"a",36),t._uU(5),t.qZA()()()()),2&s){const n=f.$implicit;t.xp6(1),t.Q6J("svgIcon","heroicons_outline:document-text"),t.xp6(3),t.Q6J("routerLink",t.VKq(3,V,n.transactionId)),t.xp6(1),t.Oqu(n.transactionId)}}function X(s,f){1&s&&t._UZ(0,"app-progress")}function G(s,f){if(1&s){const n=t.EpF();t.TgZ(0,"div",30),t.NdJ("onScroll",function(y){t.CHM(n);const C=t.oxw(2);return t.KtG(C.onScroll(y))}),t.YNc(1,z,6,5,"blockcore-block",31),t.YNc(2,X,1,0,"app-progress",23),t.qZA()}if(2&s){const n=t.oxw(2);t.Q6J("bottomOffset",400)("topOffset",400),t.xp6(1),t.Q6J("ngForOf",n.transactions),t.xp6(1),t.Q6J("ngIf",n.loading)}}function $(s,f){if(1&s&&(t.TgZ(0,"div",19)(1,"div",20),t._UZ(2,"app-search")(3,"app-error",21),t.YNc(4,H,8,2,"blockcore-block",22),t.YNc(5,j,1,0,"app-progress",23),t.YNc(6,G,3,4,"div",24),t.qZA()()),2&s){const n=t.oxw();t.xp6(3),t.Q6J("error",n.error),t.xp6(1),t.Q6J("ngIf",n.total),t.xp6(1),t.Q6J("ngIf",!n.transactions),t.xp6(1),t.Q6J("ngIf",n.transactions)}}const q=[{path:"",component:(()=>{class s{constructor(n,l,y,C){var v=this;this.api=n,this.router=l,this.setup=y,this.activatedRoute=C,this.hostClass=!0,this.detailsVisible=!1,this.loading=!1,this.count=0,this.limit=20,this.activatedRoute.paramMap.subscribe(function(){var A=(0,I.Z)(function*(b){v.transactions=null;try{v.error=null}catch(D){v.error=D}console.log(v.block);const et=yield v.api.getLastBlock(!1);v.lastBlockHeight=et.blockIndex;try{yield v.updateTransactions("/api/query/mempool/transactions?limit="+v.limit)}catch(D){v.error="{"===D.message[0]?JSON.parse(D.message):D}});return function(b){return A.apply(this,arguments)}}())}ngOnInit(){return(0,I.Z)(function*(){})()}navigateToBlock(n){this.router.navigate([this.setup.current,"explorer","block",n])}toggleDetails(){this.detailsVisible=!this.detailsVisible}ngOnDestroy(){}updateTransactions(n){var l=this;return(0,I.Z)(function*(){if(!n)return;const y=l.api.baseUrl.replace("/api",""),C=yield l.api.request(y+n);l.total=C.headers.get("Pagination-Total");const v=C.headers.get("Link"),A=l.api.parseLinkHeader(v);l.link=A.next;const b=yield C.json();l.transactions||(l.transactions=[]),l.transactions=[...l.transactions,...b],l.count++})()}onScroll(n){var l=this;return(0,I.Z)(function*(){console.log("scroll occurred",n),n.isReachingBottom&&(console.log("the user is reaching the bottom"),l.loading=!0,setTimeout((0,I.Z)(function*(){yield l.updateTransactions(l.link),l.loading=!1}))),n.isReachingTop&&console.log("the user is reaching the top"),n.isWindowEvent&&console.log("This event is fired on Window not on an element.")})()}}return s.\u0275fac=function(n){return new(n||s)(t.Y36(Q.s),t.Y36(m.F0),t.Y36(R.U),t.Y36(m.gz))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-mempool-component"]],hostVars:2,hostBindings:function(n,l){2&n&&t.ekj("content-centered-top",l.hostClass)},decls:21,vars:7,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex","flex-col","w-full","max-w-screen-xl","mx-auto","px-6","sm:px-8"],[1,"flex","flex-col","sm:flex-row","flex-auto","sm:items-center","min-w-0","my-8","sm:my-12"],[1,"flex","flex-auto","items-center","min-w-0"],[1,"flex-0","w-16","h-16","rounded-md","overflow-hidden"],[1,"w-full","h-full",3,"src"],[1,"flex","flex-col","min-w-0","ml-4"],[1,"text-2xl","md:text-5xl","font-semibold","tracking-tight","leading-7","md:leading-snug","truncate"],["class","flex items-center",4,"ngIf"],[1,"flex","items-center","mt-6","sm:mt-0","sm:ml-2","space-x-3","hidden","md:block"],["target","_blank",3,"href"],["mat-flat-button","",1,"blockcore-mat-button-rounded",3,"color"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2"],[1,"flex-auto","border-t","-mt-px","pt-4","sm:pt-6"],[1,"w-full","max-w-screen-xl","mx-auto"],["class","flex flex-col flex-auto w-full",4,"ngIf"],[1,"flex","items-center"],[1,"ml-1.5","leading-6","truncate","text-secondary"],[1,"flex","flex-col","flex-auto","w-full"],[1,"w-full","max-w-screen-xl","mx-auto","p-6","md:p-8"],[1,"centered",3,"error"],["class","flex items-center w-full p-6 filter-info ",4,"ngIf"],[4,"ngIf"],["appDetectScroll","",3,"bottomOffset","topOffset","onScroll",4,"ngIf"],[1,"flex","items-center","w-full","p-6","filter-info"],[1,"icon-size-14","mr-6","text-blue-500",3,"svgIcon"],[1,"flex","flex-col"],[1,"text-2xl","font-semibold","leading-tight","break-all"],[1,"text-primary"],["appDetectScroll","",3,"bottomOffset","topOffset","onScroll"],["class","flex items-center w-full p-6 filter-info justify-between",4,"ngFor","ngForOf"],[1,"flex","items-center","w-full","p-6","filter-info","justify-between"],[1,"icon-size-12","mr-6",3,"svgIcon"],[1,"flex","flex-col","w-full"],[1,"text-2xl","font-semibold","leading-tight","text-primary","break-all"],[3,"routerLink"]],template:function(n,l){1&n&&(t.TgZ(0,"div",0)(1,"div")(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),t._UZ(6,"img",5),t.qZA(),t.TgZ(7,"div",6),t.ynx(8),t.TgZ(9,"div",7),t._uU(10),t.qZA(),t.BQk(),t.YNc(11,F,4,2,"div",8),t.qZA()(),t.TgZ(12,"div",9)(13,"a",10)(14,"button",11),t._UZ(15,"mat-icon",12),t.TgZ(16,"span",13),t._uU(17,"Website"),t.qZA()()()()()()(),t.TgZ(18,"div",14)(19,"div",15),t.YNc(20,$,7,4,"div",16),t.qZA()()()),2&n&&(t.xp6(6),t.s9C("src",null==l.setup.Chain?null:l.setup.Chain.Icon,t.LSH),t.xp6(4),t.hij(" ",null==l.setup.Chain?null:l.setup.Chain.Symbol," "),t.xp6(1),t.Q6J("ngIf",null==l.setup.Chain?null:l.setup.Chain.Description),t.xp6(2),t.s9C("href",null==l.setup.Chain?null:l.setup.Chain.Url,t.LSH),t.xp6(1),t.Q6J("color","primary"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:chevron-double-right"),t.xp6(5),t.Q6J("ngIf",l.setup.chains))},dependencies:[m.yS,e.lW,x.Hw,B.sg,B.O5,K.f,N.g,w.t,Y.q],encapsulation:2}),s})()}];let tt=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[m.Bz.forChild(q),e.ot,_.vV,p.t,x.Ps,T.Tx,g.Cv,E.si,M.SJ,O.JX,a.p0,d.Nh,r.X,i.y4,c.m,Z.LD,u.c,U.d,J.AV,k.ZX,S.t,L.q,W.T]}),s})()},49364:(P,h,o)=>{o.d(h,{g:()=>a});var m=o(15861),e=o(5e3),_=o(5830),p=o(29205),x=o(99826),T=o(57261),g=o(25245),E=o(93075),M=o(67322),O=o(77531);let a=(()=>{class d{constructor(r,c,Z,u){this.api=r,this.setup=c,this.router=Z,this._snackBar=u,this.scheme=JSON.parse(localStorage.getItem("config")).scheme}ngOnDestroy(){}ngOnInit(){return(0,m.Z)(function*(){})()}inputType(r){return r.startsWith(this.setup.Network.NetworkWitnessPrefix)?"address":r.length<20?"index":r.length>30&&r.length<54?"address":"hash"}search(){var r=this;return(0,m.Z)(function*(){const c=r.searchTerm;switch(r.inputType(c)){case"index":{const u=parseInt(c,10);NaN!==u&&u>0?r.router.navigate([r.setup.current,"explorer","block",u]):r._snackBar.open("Explorer cannot detect your data type","retry",{duration:3e3,panelClass:[r.scheme]});break}case"address":r.router.navigate([r.setup.current,"explorer","address",c]);break;case"hash":{let u=null;try{u=yield r.api.getBlockByHash(c)}catch(U){}if(u)r.router.navigate([r.setup.current,"explorer","block",u.blockHash]);else{const U=yield r.api.getTransaction(c);r.router.navigate([r.setup.current,"explorer","transaction",U.transactionId])}break}default:r._snackBar.open("Explorer cannot detect your data type","retry",{duration:3e3,panelClass:[r.scheme]})}})()}}return d.\u0275fac=function(r){return new(r||d)(e.Y36(_.s),e.Y36(p.U),e.Y36(x.F0),e.Y36(T.ux))},d.\u0275cmp=e.Xpm({type:d,selectors:[["app-search"]],decls:8,vars:3,consts:[[1,"grid","grid-cols-1","sm:grid-cols-1","md:grid-cols-1","gap-6","w-full","min-w-0","mb-6"],[1,"flex","flex-col","flex-auto","p-6","bg-card","shadow","rounded-2xl","overflow-hidden"],[1,"w-full","max-w-screen-xl","mx-auto"],[1,"flex","flex-col","sm:flex-row","items-center","justify-between","w-full","max-w-full","sm:max-w-none"],[1,"blockcore-mat-no-subscript","w-full","sm:w-full","mt-6","sm:mt-6","mb-6","sm:mb-6","sm:ml-4",3,"floatLabel"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["type","search","placeholder","Search for address, transaction or block.","autocomplete","off","matInput","",3,"ngModel","keyup.enter","ngModelChange"],["query",""]],template:function(r,c){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-form-field",4),e._UZ(5,"mat-icon",5),e.TgZ(6,"input",6,7),e.NdJ("keyup.enter",function(){return c.search()})("ngModelChange",function(u){return c.searchTerm=u}),e.qZA()()()()()()),2&r&&(e.xp6(4),e.Q6J("floatLabel","always"),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:search"),e.xp6(1),e.Q6J("ngModel",c.searchTerm))},dependencies:[g.Hw,E.Fj,E.JJ,E.On,M.KE,M.qo,O.Nt],encapsulation:2}),d})()},69837:(P,h,o)=>{o.d(h,{t:()=>T});var m=o(25245),e=o(44466),_=o(77531),p=o(57261),x=o(5e3);let T=(()=>{class g{}return g.\u0275fac=function(M){return new(M||g)},g.\u0275mod=x.oAB({type:g}),g.\u0275inj=x.cJS({imports:[m.Ps,e.m,_.c,p.ZX]}),g})()},9828:(P,h,o)=>{o.d(h,{d:()=>_});var m=o(69808),e=o(5e3);let _=(()=>{class p{}return p.\u0275fac=function(T){return new(T||p)},p.\u0275mod=e.oAB({type:p}),p.\u0275inj=e.cJS({imports:[m.ez]}),p})()}}]);